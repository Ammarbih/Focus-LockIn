{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const defaultSettings={soundEnabled:true,defaultFocusTime:25};const SETTINGS_KEY='app-settings';const SettingsContext=createContext(null);export const useSettings=()=>{const context=useContext(SettingsContext);if(!context){throw new Error('useSettings must be used within a SettingsProvider');}return context;};export const SettingsProvider=({children})=>{const[settings,setSettings]=useState(()=>{const savedSettings=localStorage.getItem(SETTINGS_KEY);if(savedSettings){const parsed=JSON.parse(savedSettings);return Object.assign({},defaultSettings,parsed,{defaultFocusTime:parsed.defaultFocusTime||25});}return defaultSettings;});useEffect(()=>{localStorage.setItem(SETTINGS_KEY,JSON.stringify(settings));},[settings]);const updateSettings=newSettings=>{setSettings(prev=>Object.assign({},prev,newSettings));};return _jsx(SettingsContext.Provider,{value:{settings,updateSettings},children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsx","_jsx","defaultSettings","soundEnabled","defaultFocusTime","SETTINGS_KEY","SettingsContext","useSettings","context","Error","SettingsProvider","children","settings","setSettings","savedSettings","localStorage","getItem","parsed","JSON","parse","Object","assign","setItem","stringify","updateSettings","newSettings","prev","Provider","value"],"sources":["C:/Users/ammar/Documents/app lockin/src/contexts/SettingsContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\n\nexport interface Settings {\n  soundEnabled: boolean;\n  defaultFocusTime: number;\n}\n\ninterface SettingsContextType {\n  settings: Settings;\n  updateSettings: (newSettings: Partial<Settings>) => void;\n}\n\nconst defaultSettings: Settings = {\n  soundEnabled: true,\n  defaultFocusTime: 25\n};\n\nconst SETTINGS_KEY = 'app-settings';\n\nconst SettingsContext = createContext<SettingsContextType | null>(null);\n\nexport const useSettings = () => {\n  const context = useContext(SettingsContext);\n  if (!context) {\n    throw new Error('useSettings must be used within a SettingsProvider');\n  }\n  return context;\n};\n\nexport const SettingsProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [settings, setSettings] = useState<Settings>(() => {\n    const savedSettings = localStorage.getItem(SETTINGS_KEY);\n    if (savedSettings) {\n      const parsed = JSON.parse(savedSettings);\n      // Zorg ervoor dat defaultFocusTime altijd een geldige waarde heeft\n      return {\n        ...defaultSettings,\n        ...parsed,\n        defaultFocusTime: parsed.defaultFocusTime || 25\n      };\n    }\n    return defaultSettings;\n  });\n\n  useEffect(() => {\n    localStorage.setItem(SETTINGS_KEY, JSON.stringify(settings));\n  }, [settings]);\n\n  const updateSettings = (newSettings: Partial<Settings>) => {\n    setSettings(prev => ({\n      ...prev,\n      ...newSettings\n    }));\n  };\n\n  return (\n    <SettingsContext.Provider value={{ settings, updateSettings }}>\n      {children}\n    </SettingsContext.Provider>\n  );\n};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAY9E,KAAM,CAAAC,eAAyB,CAAG,CAChCC,YAAY,CAAE,IAAI,CAClBC,gBAAgB,CAAE,EACpB,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,cAAc,CAEnC,KAAM,CAAAC,eAAe,CAAGV,aAAa,CAA6B,IAAI,CAAC,CAEvE,MAAO,MAAM,CAAAW,WAAW,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAAAC,OAAO,CAAGX,UAAU,CAACS,eAAe,CAAC,CAC3C,GAAI,CAACE,OAAO,CAAE,CACZ,KAAM,IAAI,CAAAC,KAAK,CAAC,oDAAoD,CAAC,CACvE,CACA,MAAO,CAAAD,OAAO,CAChB,CAAC,CAED,MAAO,MAAM,CAAAE,gBAAyD,CAAGA,CAAC,CAAEC,QAAS,CAAC,GAAK,CACzF,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAW,IAAM,CACvD,KAAM,CAAAgB,aAAa,CAAGC,YAAY,CAACC,OAAO,CAACX,YAAY,CAAC,CACxD,GAAIS,aAAa,CAAE,CACjB,KAAM,CAAAG,MAAM,CAAGC,IAAI,CAACC,KAAK,CAACL,aAAa,CAAC,CAExC,OAAAM,MAAA,CAAAC,MAAA,IACKnB,eAAe,CACfe,MAAM,EACTb,gBAAgB,CAAEa,MAAM,CAACb,gBAAgB,EAAI,EAAE,GAEnD,CACA,MAAO,CAAAF,eAAe,CACxB,CAAC,CAAC,CAEFH,SAAS,CAAC,IAAM,CACdgB,YAAY,CAACO,OAAO,CAACjB,YAAY,CAAEa,IAAI,CAACK,SAAS,CAACX,QAAQ,CAAC,CAAC,CAC9D,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAY,cAAc,CAAIC,WAA8B,EAAK,CACzDZ,WAAW,CAACa,IAAI,EAAAN,MAAA,CAAAC,MAAA,IACXK,IAAI,CACJD,WAAW,CACd,CAAC,CACL,CAAC,CAED,MACE,CAAAxB,IAAA,CAACK,eAAe,CAACqB,QAAQ,EAACC,KAAK,CAAE,CAAEhB,QAAQ,CAAEY,cAAe,CAAE,CAAAb,QAAA,CAC3DA,QAAQ,CACe,CAAC,CAE/B,CAAC","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}